{% extends 'base/base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock extra_css %}

{% block content %}
<div class="profile-container">
    <div class="profile-card">
        <div class="profile-left">
            <div class="profile-header">
                {% if custom_user.image_profile %}
                    <img src="{{ custom_user.image_profile.url }}" alt="Profile Picture" class="profile-image">
                {% else %}
                    <img src="{% static 'img/default_profile.png' %}" alt="Default Profile Picture" class="profile-image">
                {% endif %}
                <h2>{{ custom_user.user.username }}</h2>
            </div>
            <div class="profile-info">
                <p><i class="fas fa-envelope"></i> {{ custom_user.user.email }}</p>
                {% if custom_user.phone_number %}
                    <p><i class="fas fa-phone"></i> {{ custom_user.phone_number }}</p>
                {% endif %}
                {% if custom_user.location %}
                    <p><i class="fas fa-map-marker-alt"></i> {{ custom_user.location }}</p>
                {% endif %}
                <p><i class="fas fa-tasks"></i> Completed Tasks: 20</p>
            </div>
            <div class="bio">
                <h3>Bio</h3>
                {% if custom_user.Boi %}
                    <p>{{ custom_user.Boi }}</p>
                {% else %}
                    <p>No bio available.</p>
                {% endif %}
            </div>
           
            <a href="{% url 'edit_profile' %}" class="edit-profile-btn">Edit Profile</a>
        </div>
        <div class="profile-right">
            <div class="friends">
                <h3 class='Friends_title'><i class="fas fa-users"></i> Friends</h3>
                <p>John, Sarah, Ahmed</p>
            </div>
            <h3 class='Activity_Log_title'><i class="fas fa-history"></i> Activity Log</h3>
            <ul class="activity-log">
                {% for activity in activity_logs %}
                    <li class="activity-item activity-{{ activity.action }}">
                        {% if activity.action == 'add' %}
                            <i class="fas fa-plus-circle activity-icon"></i>
                        {% elif activity.action == 'edit' %}
                            <i class="fas fa-edit activity-icon"></i>
                        {% elif activity.action == 'remove' %}
                            <i class="fas fa-minus-circle activity-icon"></i>
                        {% endif %}
                        <span class="activity-text">
                            {{ activity.action|title }} {{ activity.related_object }} at {{ activity.timestamp|date:"M d, Y H:i" }}
                        </span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock content %}
